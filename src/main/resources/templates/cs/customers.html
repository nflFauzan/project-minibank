<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <title>CS - Customers</title>
  <link rel="stylesheet" th:href="@{/css/cs-shell.css}">
</head>

<body>
<div class="cs-shell">

  <div th:replace="~{cs/fragments :: sidebar('customers')}"></div>

  <div class="cs-content">
    <div th:replace="~{cs/fragments :: topbar}"></div>

    <main class="cs-page">

      <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
        <div style="font-size:20px; font-weight:900; color:#1e3a8a;">Customer</div>

        <div style="display:flex; gap:10px;">
          <!-- penting: arahkan ke form lama -->
          <a th:href="@{/cs/customers/new}"
             style="text-decoration:none; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,.12); background:#fff; font-weight:800;">
            Create New Customer
          </a>
        </div>
      </div>

      <!-- Filter -->
      <form method="get" th:action="@{/cs/customers}"
            style="margin-top:14px; background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:16px; box-shadow:0 10px 25px rgba(0,0,0,.05); padding:14px;">
        <div style="display:flex; align-items:center; gap:10px;">
          <div style="font-weight:900; color:#1e3a8a;">Filter:</div>
          <select name="status" style="height:36px; border-radius:10px; border:1px solid rgba(0,0,0,.18); padding:0 10px;">
            <option value="ALL" th:selected="${status}=='ALL'">ALL</option>
            <option value="ACTIVE" th:selected="${status}=='ACTIVE'">ACTIVE</option>
            <option value="REJECTED" th:selected="${status}=='REJECTED'">REJECTED</option>
            <option value="INACTIVE" th:selected="${status}=='INACTIVE'">INACTIVE</option>
          </select>

          <button type="submit"
                  style="height:36px; border-radius:10px; border:0; padding:0 14px; font-weight:900; background:#a9ccff; cursor:pointer;">
            Apply
          </button>
        </div>
      </form>

      <!-- List -->
      <div style="margin-top:14px; background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:16px; box-shadow:0 10px 25px rgba(0,0,0,.05); padding:14px;">
        <div style="font-weight:900; color:#1e3a8a; margin-bottom:10px;">Customer List</div>

        <div th:if="${#lists.isEmpty(list)}" style="padding:18px; color:#64748b;">
          Tidak ada data.
        </div>

        <table th:if="${!#lists.isEmpty(list)}" style="width:100%; border-collapse:collapse;">
          <thead>
          <tr style="text-align:left; border-bottom:1px solid rgba(0,0,0,.08);">
            <th style="padding:10px 8px;">CIF</th>
            <th style="padding:10px 8px;">Nama</th>
            <th style="padding:10px 8px;">NIK</th>
            <th style="padding:10px 8px;">Status</th>
            <th style="padding:10px 8px;">Created</th>
            <th style="padding:10px 8px;">Created By</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="n : ${list}" style="border-bottom:1px solid rgba(0,0,0,.06);">
            <td style="padding:10px 8px;" th:text="${n.cif}">-</td>
            <td style="padding:10px 8px;" th:text="${n.namaLengkap}">-</td>
            <td style="padding:10px 8px;" th:text="${n.nik}">-</td>
            <td style="padding:10px 8px;">
              <span th:text="${n.status}"
                    style="padding:4px 10px; border-radius:999px; background:#e8f7ee; font-weight:900; font-size:12px;">
                ACTIVE
              </span>
            </td>
            <td style="padding:10px 8px;" th:text="${n.createdAt}">-</td>
            <td style="padding:10px 8px;" th:text="${n.createdBy}">-</td>
          </tr>
          </tbody>
        </table>
      </div>

    </main>
  </div>
</div>
</body>
</html>
