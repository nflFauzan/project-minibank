<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS - Customers</title>
  <!-- Samakan dengan halaman CS lain -->
  <link rel="stylesheet" th:href="@{/css/cs-shell.css}">
  <link rel="stylesheet" th:href="@{/css/custom.css}">
  <link rel="stylesheet" th:href="@{/css/minibank-ui.css}">
  <link rel="stylesheet" th:href="@{/css/account.css}">
</head>

<body>
<div class="cs-shell">
  <div th:replace="~{cs/fragments :: sidebar('customers')}"></div>

  <div class="cs-content">
    <div th:replace="~{cs/fragments :: topbar}"></div>

    <main class="cs-page">

      <div style="display:flex; align-items:center; justify-content:space-between; gap:12px;">
        <div style="font-size:20px; font-weight:900; color:#1e3a8a;">Customers</div>

        <a th:href="@{/cs/customers/new}"
           style="text-decoration:none; padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,.12); background:#fff; font-weight:800;">
          + Pendaftaran Nasabah
        </a>
      </div>

      <div style="margin-top:14px; background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:16px; box-shadow:0 10px 25px rgba(0,0,0,.05); padding:14px; overflow:auto;">

        <table style="width:100%; border-collapse:collapse; min-width:980px; font-size:13px;">
          <thead>
          <tr style="text-align:left; color:#64748b; font-weight:900; border-bottom:1px solid rgba(0,0,0,.08);">
            <th style="padding:10px 8px;">CIF</th>
            <th style="padding:10px 8px;">NIK</th>
            <th style="padding:10px 8px;">Nama</th>
            <th style="padding:10px 8px;">Status</th>
            <th style="padding:10px 8px;">Created At</th>

            <!-- INI KOLOM BARU -->
            <th style="padding:10px 8px; width:140px;">Action</th>
          </tr>
          </thead>

          <tbody>
          <tr th:if="${customers == null || #lists.isEmpty(customers)}">
            <td colspan="6" style="padding:14px 8px; color:#94a3b8;">Belum ada data nasabah.</td>
          </tr>

          <tr th:each="n : ${customers}" style="border-bottom:1px solid rgba(0,0,0,.06);">
            <td style="padding:10px 8px; font-weight:800;" th:text="${n.cif}">-</td>
            <td style="padding:10px 8px;" th:text="${n.nik}">-</td>

            <!-- Aman kalau field namanya beda (namaLengkap / namaSesuaiIdentitas) -->
            <td style="padding:10px 8px; font-weight:800;"
                th:text="${n.namaLengkap != null ? n.namaLengkap : n.namaSesuaiIdentitas}">
              -
            </td>

            <td style="padding:10px 8px;" th:text="${n.status}">-</td>
            <td style="padding:10px 8px;" th:text="${n.createdAt}">-</td>

            <!-- ACTION -->
            <td style="padding:10px 8px;">
              <a th:href="@{|/cs/customers/${n.id}|}"
                 style="text-decoration:none; font-weight:900; color:#1d4ed8;">
                View
              </a>
              <span style="color:#cbd5e1;"> | </span>
              <a th:href="@{|/cs/customers/${n.id}/edit|}"
                 style="text-decoration:none; font-weight:900; color:#1d4ed8;">
                Edit
              </a>
            </td>
          </tr>

          </tbody>
        </table>

      </div>

    </main>
  </div>
</div>
</body>
</html>
